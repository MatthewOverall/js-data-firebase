{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap de75db984df6fa70ca30","webpack:///./src/index.js","webpack:///external {\"amd\":\"js-data\",\"commonjs\":\"js-data\",\"commonjs2\":\"js-data\",\"root\":\"JSData\"}","webpack:///./~/js-data-adapter/dist/js-data-adapter.js","webpack:///./~/mout/random/guid.js","webpack:///./~/mout/random/randHex.js","webpack:///./~/mout/random/choice.js","webpack:///./~/mout/random/randInt.js","webpack:///./~/mout/number/MIN_INT.js","webpack:///./~/mout/number/MAX_INT.js","webpack:///./~/mout/random/rand.js","webpack:///./~/mout/random/random.js","webpack:///./~/mout/lang/isArray.js","webpack:///./~/mout/lang/isKind.js","webpack:///./~/mout/lang/kindOf.js"],"names":[],"mappings":"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C1B,SAAM,oBADoB;AAE1B,UAAO,SAAS,cAAT,EAAyB,EAAzB,CAFmB;AAG1B,UAAO,SAAS,cAAT,EAAyB,EAAzB,CAHmB;AAI1B,UAAO,SAAS,cAAT,EAAyB,EAAzB,CAJmB;AAK1B,UAAO,QAA6B,cAA7B,GAA8C,KAL3B;AAM1B,SAAM,QAA4B,aAA5B,GAA4C;AANxB,EAA5B;;;;;;;;;;;;;;;;;;;;;;;;;AAgCA,QAAO,OAAP,GAAiB,iBAAjB,C;;;;;;ACppBA,gD;;;;;;ACAA;AACA;AACA;AACA;AACA,EAAC,0BAA0B;;AAE3B;AACA;AACA;AACA,IAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP,MAAK;AACL;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,kDAAiD,+BAA+B;AAChF;;AAEA;AACA;AACA,QAAO;AACP;AACA;AACA,QAAO;AACP;AACA;AACA,UAAS;AACT;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,QAAO;AACP;AACA,QAAO;AACP;AACA;AACA;AACA,IAAG;;AAEH;;AAEA;AACA;;AAEA,oEAAmE,aAAa;AAChF;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,uEAAsE,eAAe;AACrF;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAc;AACd;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAc;AACd;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAa,OAAO;AACpB,cAAa,QAAQ;AACrB,cAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,iBAAgB,OAAO;AACvB,iBAAgB,OAAO;AACvB;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAa,OAAO;AACpB;AACA,cAAa,OAAO;AACpB;AACA,eAAc,OAAO;AACrB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,mBAAkB,OAAO;AACzB,gBAAe,gBAAgB,oBAAoB,eAAe;AAClE;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,mBAAkB,OAAO;AACzB,gBAAe,gBAAgB,6BAA6B,eAAe;AAC3E;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,SAAS;AACxB,gBAAe,OAAO;AACtB,mBAAkB,OAAO;AACzB,gBAAe,kBAAkB,8BAA8B,eAAe;AAC9E;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,gBAAgB;AAC/B,gBAAe,OAAO;AACtB,mBAAkB,OAAO;AACzB,gBAAe,mBAAmB,0BAA0B,eAAe;AAC3E;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,mBAAkB,OAAO;AACzB,gBAAe,mBAAmB,0BAA0B,eAAe;AAC3E;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,gBAAgB;AAC/B,gBAAe,OAAO;AACtB,mBAAkB,OAAO;AACzB,gBAAe,gBAAgB,+BAA+B,eAAe;AAC7E;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,mBAAkB,OAAO;AACzB,gBAAe,kBAAkB,gCAAgC,eAAe;AAChF;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,mBAAkB,OAAO;AACzB,gBAAe,gBAAgB,oBAAoB,eAAe;AAClE;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,gBAAgB;AAC/B,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,mBAAkB,OAAO;AACzB,gBAAe,gBAAgB,iCAAiC,eAAe;AAC/E;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,mBAAkB,OAAO;AACzB,gBAAe,kBAAkB,kCAAkC,eAAe;AAClF;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,SAAS;AACxB,gBAAe,OAAO;AACtB,mBAAkB,OAAO;AACzB,gBAAe,kBAAkB,kCAAkC,eAAe;AAClF;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,mBAAkB,OAAO;AACzB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,mBAAkB,OAAO;AACzB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,SAAS;AACxB,gBAAe,OAAO;AACtB,mBAAkB,OAAO;AACzB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,gBAAgB;AAC/B,gBAAe,OAAO;AACtB,mBAAkB,OAAO;AACzB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,mBAAkB,OAAO;AACzB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,gBAAgB;AAC/B,gBAAe,OAAO;AACtB,mBAAkB,OAAO;AACzB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,mBAAkB,OAAO;AACzB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,mBAAkB,OAAO;AACzB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,gBAAgB;AAC/B,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,mBAAkB,OAAO;AACzB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,mBAAkB,OAAO;AACzB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,SAAS;AACxB,gBAAe,OAAO;AACtB,mBAAkB,OAAO;AACzB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yEAAwE,eAAe;AACvF;AACA;;AAEA;AACA,MAAK;;;AAGL;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,aAAa;AAC5B,gBAAe,aAAa;AAC5B,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,QAAQ;AACvB;AACA,iBAAgB;AAChB;AACA;AACA;AACA;AACA,2BAA0B;AAC1B,yBAAwB;;AAExB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;;AAEA;AACA;;AAEA,+BAA8B;AAC9B;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,QAAO;AACP,MAAK;;;AAGL;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,QAAQ;AACvB;AACA,iBAAgB;AAChB;AACA;AACA;AACA;AACA,2BAA0B;AAC1B,yBAAwB;;AAExB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;;AAEA;AACA;;AAEA,+BAA8B;AAC9B;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,QAAO;AACP,MAAK;;;AAGL;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,QAAQ;AACvB;AACA,iBAAgB;AAChB;AACA;AACA;AACA;AACA,2BAA0B;AAC1B,yBAAwB;;AAExB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,QAAO;AACP;;AAEA;AACA;;AAEA;AACA,+BAA8B;AAC9B;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,QAAO;AACP,MAAK;;;AAGL;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,gBAAgB;AAC/B,gBAAe,OAAO;AACtB,gBAAe,QAAQ;AACvB;AACA,iBAAgB;AAChB;AACA;AACA;AACA;AACA,yBAAwB;;AAExB;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;;AAEA;AACA;;AAEA,+BAA8B;AAC9B;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,QAAO;AACP,MAAK;;;AAGL;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,aAAa;AAC5B,gBAAe,aAAa;AAC5B,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,QAAQ;AACvB;AACA,iBAAgB;AAChB;AACA;AACA;AACA;AACA,2BAA0B;AAC1B,yBAAwB;;AAExB;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;;AAEA;AACA;;AAEA,+BAA8B;AAC9B;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,QAAO;AACP,MAAK;;;AAGL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB;AAChB;AACA;AACA;AACA,MAAK;;;AAGL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP,MAAK;;;AAGL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB;AAChB;AACA;AACA;AACA,MAAK;;;AAGL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB;AAChB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA,UAAS;AACT,QAAO;AACP,MAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,gDAA+C;AAC/C;AACA,YAAW;AACX,UAAS;AACT;AACA,UAAS;AACT,QAAO;AACP;AACA;AACA;AACA;AACA,YAAW;AACX;AACA;AACA,oDAAmD;AACnD;AACA;AACA,kBAAiB;AACjB,gBAAe;AACf,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA,gBAAe;AACf;AACA,cAAa;AACb;AACA,UAAS;;AAET;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,gDAA+C;AAC/C;AACA,YAAW;AACX,UAAS;AACT;AACA,UAAS;AACT,QAAO;AACP;AACA,gDAA+C;AAC/C;AACA;AACA,cAAa;AACb,YAAW;AACX,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA,YAAW;AACX,UAAS;AACT;AACA,MAAK;;;AAGL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,QAAO;AACP,MAAK;;;AAGL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB;AAChB;AACA;AACA;AACA,MAAK;;;AAGL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB;AAChB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA,UAAS;;AAET;AACA,QAAO;AACP;AACA;AACA,UAAS;AACT;AACA,UAAS;AACT;AACA,gDAA+C;AAC/C;AACA,YAAW;AACX,UAAS;AACT;AACA;AACA;AACA;AACA;AACA,cAAa;AACb,YAAW;AACX,UAAS;AACT;AACA,MAAK;;;AAGL;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,gBAAgB;AAC/B,gBAAe,OAAO;AACtB,gBAAe,QAAQ;AACvB;AACA,gBAAe,SAAS;AACxB,iBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,yBAAwB;AACxB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA,YAAW;AACX;AACA,YAAW;AACX;AACA,YAAW;AACX;AACA;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA,QAAO;AACP,+CAA8C;AAC9C;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,QAAO;AACP,MAAK;;;AAGL;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,aAAa;AAC5B,gBAAe,aAAa;AAC5B,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,QAAQ;AACvB;AACA,gBAAe,SAAS;AACxB,iBAAgB;AAChB;AACA;AACA;AACA,yBAAwB;AACxB;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA,YAAW;AACX;AACA,YAAW;AACX;AACA,YAAW;AACX;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA,QAAO;AACP,gDAA+C;AAC/C;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,QAAO;AACP,MAAK;;;AAGL;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,iBAAgB,EAAE;AAClB;AACA;AACA,yBAAwB;AACxB;AACA,MAAK;;;AAGL;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,KAAK;AACpB;AACA;AACA,6FAA4F,eAAe;AAC3G;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,QAAO;AACP;;AAEA;AACA;AACA,MAAK;;;AAGL;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,aAAa;AAC5B,gBAAe,aAAa;AAC5B,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,QAAQ;AACvB;AACA,iBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA0B;AAC1B,yBAAwB;;AAExB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;;AAEA;AACA;;AAEA,+BAA8B;AAC9B;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,QAAO;AACP,MAAK;;;AAGL;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB;AACA;AACA;AACA;AACA,MAAK;;;AAGL;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,gBAAgB;AAC/B,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,QAAQ;AACvB;AACA,iBAAgB;AAChB;AACA;AACA;AACA,2BAA0B;AAC1B,yBAAwB;AACxB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;;AAEA;AACA;;AAEA,+BAA8B;AAC9B;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,QAAO;AACP,MAAK;;;AAGL;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,aAAa;AAC5B,gBAAe,aAAa;AAC5B,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,QAAQ;AACvB;AACA,iBAAgB;AAChB;AACA;AACA;AACA,2BAA0B;AAC1B,2BAA0B;AAC1B,yBAAwB;AACxB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;;AAEA;AACA;;AAEA;AACA,+BAA8B;AAC9B;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,QAAO;AACP,MAAK;;;AAGL;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,SAAS;AACxB,gBAAe,OAAO;AACtB,gBAAe,QAAQ;AACvB;AACA,iBAAgB;AAChB;AACA;AACA;AACA;AACA,yBAAwB;AACxB;AACA;;AAEA;AACA;AACA,QAAO;;AAEP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,QAAO;AACP;;AAEA;AACA;;AAEA;AACA,+BAA8B;AAC9B;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,QAAO;AACP;AACA,IAAG;;AAEH;;AAEA,EAAC;AACD,4C;;;;;;AC3lDA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACtBA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;AChBA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;ACZA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;AChBA;AACA;AACA;;AAEA;;;;;;;;ACJA;AACA;AACA;;AAEA;;;;;;;;ACJA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;ACXA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;;;;;;;;ACfA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;ACLA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA,UAAS;AACT;AACA;AACA;AACA","file":"./dist/js-data-firebase.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"js-data\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"js-data\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"DSFirebaseAdapter\"] = factory(require(\"js-data\"));\n\telse\n\t\troot[\"DSFirebaseAdapter\"] = factory(root[\"JSData\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_1__) {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap de75db984df6fa70ca30\n **/","/* global: localStorage */\r\nconst JSData = require('js-data')\r\nconst Adapter = require('js-data-adapter')\r\nconst guid = require('mout/random/guid')\r\n\r\nconst {\r\n  Query,\r\n  utils\r\n} = JSData\r\n\r\nfunction isValidString (value) {\r\n  return (value != null && value !== '')\r\n}\r\nfunction join (items, separator) {\r\n  separator || (separator = '')\r\n  return items.filter(isValidString).join(separator)\r\n}\r\nfunction makePath (...args) {\r\n  let result = join(args, '/')\r\n  return result.replace(/([^:\\/]|^)\\/{2,}/g, '$1/')\r\n}\r\nlet queue = []\r\nlet taskInProcess = false\r\n\r\nfunction enqueue (task) {\r\n  queue.push(task)\r\n}\r\n\r\nfunction dequeue () {\r\n  if (queue.length && !taskInProcess) {\r\n    taskInProcess = true\r\n    queue[0]()\r\n  }\r\n}\r\n\r\nfunction queueTask (task) {\r\n  if (!queue.length) {\r\n    enqueue(task)\r\n    dequeue()\r\n  } else {\r\n    enqueue(task)\r\n  }\r\n}\r\n\r\nfunction createTask (fn) {\r\n  return new Promise(fn).then(function (result) {\r\n    taskInProcess = false\r\n    queue.shift()\r\n    setTimeout(dequeue, 0)\r\n    return result\r\n  }, function (err) {\r\n    taskInProcess = false\r\n    queue.shift()\r\n    setTimeout(dequeue, 0)\r\n    return utils.reject(err)\r\n  })\r\n}\r\n\r\nconst __super__ = Adapter.prototype\r\n\r\nconst DEFAULTS = {\r\n  /**\r\n   * TODO\r\n   *\r\n   * @name DSFirebaseAdapter#basePath\r\n   * @type {string}\r\n   */\r\n  basePath: '',\r\n\r\n  /**\r\n   * TODO\r\n   *\r\n   * @name DSFirebaseAdapter#debug\r\n   * @type {boolean}\r\n   * @default false\r\n   */\r\n  debug: false,\r\n\r\n  /**\r\n   * TODO\r\n   *\r\n   * @name DSFirebaseAdapter#storage\r\n   * @type {Object}\r\n   * @default localStorage\r\n   */\r\n  storage: localStorage\r\n}\r\n\r\n/**\r\n * DSFirebaseAdapter class.\r\n *\r\n * @example\r\n * import {DataStore} from 'js-data'\r\n * import DSFirebaseAdapter from 'js-data-localstorage'\r\n * const store = new DataStore()\r\n * const adapter = new DSFirebaseAdapter()\r\n * store.registerAdapter('ls', adapter, { 'default': true })\r\n *\r\n * @class DSFirebaseAdapter\r\n * @param {Object} [opts] Configuration opts.\r\n * @param {string} [opts.basePath=''] TODO\r\n * @param {boolean} [opts.debug=false] TODO\r\n * @param {Object} [opts.storeage=localStorage] TODO\r\n */\r\nfunction DSFirebaseAdapter (opts) {\r\n  const self = this\r\n  utils.classCallCheck(self, DSFirebaseAdapter)\r\n  opts || (opts = {})\r\n  utils.fillIn(opts, DEFAULTS)\r\n  Adapter.call(self, opts)\r\n}\r\n\r\n// Setup prototype inheritance from Adapter\r\nDSFirebaseAdapter.prototype = Object.create(Adapter.prototype, {\r\n  constructor: {\r\n    value: DSFirebaseAdapter,\r\n    enumerable: false,\r\n    writable: true,\r\n    configurable: true\r\n  }\r\n})\r\n\r\nObject.defineProperty(DSFirebaseAdapter, '__super__', {\r\n  configurable: true,\r\n  value: Adapter\r\n})\r\n\r\n/**\r\n * Alternative to ES6 class syntax for extending `DSFirebaseAdapter`.\r\n *\r\n * @name DSFirebaseAdapter.extend\r\n * @method\r\n * @param {Object} [instanceProps] Properties that will be added to the\r\n * prototype of the subclass.\r\n * @param {Object} [classProps] Properties that will be added as static\r\n * properties to the subclass itself.\r\n * @return {Object} Subclass of `DSFirebaseAdapter`.\r\n */\r\nDSFirebaseAdapter.extend = utils.extend\r\n\r\nutils.addHiddenPropsToTarget(DSFirebaseAdapter.prototype, {\r\n  /**\r\n   * Retrieve the number of records that match the selection query. Internal\r\n   * method used by Adapter#count.\r\n   *\r\n   * @name DSFirebaseAdapter#_count\r\n   * @method\r\n   * @private\r\n   * @param {Object} mapper The mapper.\r\n   * @param {Object} query Selection query.\r\n   * @param {Object} [opts] Configuration options.\r\n   * @return {Promise}\r\n   */\r\n  _count (mapper, query, opts) {\r\n    const self = this\r\n    return self._findAll(mapper, query, opts).then(function (result) {\r\n      result[0] = result[0].length\r\n      return result\r\n    })\r\n  },\r\n\r\n  _createHelper (mapper, props, opts) {\r\n    const self = this\r\n    const _props = {}\r\n    const relationFields = mapper.relationFields || []\r\n    utils.forOwn(props, function (value, key) {\r\n      if (relationFields.indexOf(key) === -1) {\r\n        _props[key] = value\r\n      }\r\n    })\r\n    const id = utils.get(_props, mapper.idAttribute) || guid()\r\n    utils.set(_props, mapper.idAttribute, id)\r\n    const key = self.getIdPath(mapper, opts, id)\r\n\r\n    // Create the record\r\n    // TODO: Create related records when the \"with\" option is provided\r\n    self.storage.setItem(key, utils.toJson(_props))\r\n    self.ensureId(id, mapper, opts)\r\n    return utils.fromJson(self.storage.getItem(key))\r\n  },\r\n\r\n  /**\r\n   * Create a new record. Internal method used by Adapter#create.\r\n   *\r\n   * @name DSFirebaseAdapter#_create\r\n   * @method\r\n   * @private\r\n   * @param {Object} mapper The mapper.\r\n   * @param {Object} props The record to be created.\r\n   * @param {Object} [opts] Configuration options.\r\n   * @return {Promise}\r\n   */\r\n  _create (mapper, props, opts) {\r\n    const self = this\r\n    return new Promise(function (resolve) {\r\n      return resolve([self._createHelper(mapper, props, opts), {}])\r\n    })\r\n  },\r\n\r\n  /**\r\n   * Create multiple records in a single batch. Internal method used by\r\n   * Adapter#createMany.\r\n   *\r\n   * @name DSFirebaseAdapter#_createMany\r\n   * @method\r\n   * @private\r\n   * @param {Object} mapper The mapper.\r\n   * @param {Object} props The records to be created.\r\n   * @param {Object} [opts] Configuration options.\r\n   * @return {Promise}\r\n   */\r\n  _createMany (mapper, props, opts) {\r\n    const self = this\r\n    return new Promise(function (resolve) {\r\n      props || (props = [])\r\n      return resolve([props.map(function (_props) {\r\n        return self._createHelper(mapper, _props, opts)\r\n      }), {}])\r\n    })\r\n  },\r\n\r\n  /**\r\n   * Destroy the record with the given primary key. Internal method used by\r\n   * Adapter#destroy.\r\n   *\r\n   * @name DSFirebaseAdapter#_destroy\r\n   * @method\r\n   * @private\r\n   * @param {Object} mapper The mapper.\r\n   * @param {(string|number)} id Primary key of the record to destroy.\r\n   * @param {Object} [opts] Configuration options.\r\n   * @return {Promise}\r\n   */\r\n  _destroy (mapper, id, opts) {\r\n    const self = this\r\n    return new Promise(function (resolve) {\r\n      self.storage.removeItem(self.getIdPath(mapper, opts, id))\r\n      self.removeId(id, mapper, opts)\r\n      return resolve([undefined, {}])\r\n    })\r\n  },\r\n\r\n  /**\r\n   * Destroy the records that match the selection query. Internal method used by\r\n   * Adapter#destroyAll.\r\n   *\r\n   * @name DSFirebaseAdapter#_destroyAll\r\n   * @method\r\n   * @private\r\n   * @param {Object} mapper the mapper.\r\n   * @param {Object} [query] Selection query.\r\n   * @param {Object} [opts] Configuration options.\r\n   * @return {Promise}\r\n   */\r\n  _destroyAll (mapper, query, opts) {\r\n    const self = this\r\n    return self._findAll(mapper, query).then(function (results) {\r\n      let [records] = results\r\n      const idAttribute = mapper.idAttribute\r\n      // Gather IDs of records to be destroyed\r\n      const ids = records.map(function (record) {\r\n        return utils.get(record, idAttribute)\r\n      })\r\n      // Destroy each record\r\n      ids.forEach(function (id) {\r\n        self.storage.removeItem(self.getIdPath(mapper, opts, id))\r\n      })\r\n      self.removeId(ids, mapper, opts)\r\n      return [undefined, {}]\r\n    })\r\n  },\r\n\r\n  /**\r\n   * Retrieve the record with the given primary key. Internal method used by\r\n   * Adapter#find.\r\n   *\r\n   * @name DSFirebaseAdapter#_find\r\n   * @method\r\n   * @private\r\n   * @param {Object} mapper The mapper.\r\n   * @param {(string|number)} id Primary key of the record to retrieve.\r\n   * @param {Object} [opts] Configuration options.\r\n   * @return {Promise}\r\n   */\r\n  _find (mapper, id, opts) {\r\n    const self = this\r\n    return new Promise(function (resolve) {\r\n      const key = self.getIdPath(mapper, opts, id)\r\n      const record = self.storage.getItem(key)\r\n      return resolve([record ? utils.fromJson(record) : undefined, {}])\r\n    })\r\n  },\r\n\r\n  /**\r\n   * Retrieve the records that match the selection query. Internal method used\r\n   * by Adapter#findAll.\r\n   *\r\n   * @name DSFirebaseAdapter#_findAll\r\n   * @method\r\n   * @private\r\n   * @param {Object} mapper The mapper.\r\n   * @param {Object} query Selection query.\r\n   * @param {Object} [opts] Configuration options.\r\n   * @return {Promise}\r\n   */\r\n  _findAll (mapper, query, opts) {\r\n    const self = this\r\n    query || (query = {})\r\n    return new Promise(function (resolve) {\r\n      // Load all records into memory...\r\n      let records = []\r\n      const ids = self.getIds(mapper, opts)\r\n      utils.forOwn(ids, function (value, id) {\r\n        const json = self.storage.getItem(self.getIdPath(mapper, opts, id))\r\n        if (json) {\r\n          records.push(utils.fromJson(json))\r\n        }\r\n      })\r\n      const _query = new Query({\r\n        index: {\r\n          getAll () {\r\n            return records\r\n          }\r\n        }\r\n      })\r\n      return resolve([_query.filter(query).run(), {}])\r\n    })\r\n  },\r\n\r\n  /**\r\n   * Retrieve the number of records that match the selection query. Internal\r\n   * method used by Adapter#sum.\r\n   *\r\n   * @name DSFirebaseAdapter#_sum\r\n   * @method\r\n   * @private\r\n   * @param {Object} mapper The mapper.\r\n   * @param {string} field The field to sum.\r\n   * @param {Object} query Selection query.\r\n   * @param {Object} [opts] Configuration options.\r\n   * @return {Promise}\r\n   */\r\n  _sum (mapper, field, query, opts) {\r\n    const self = this\r\n    return self._findAll(mapper, query, opts).then(function (result) {\r\n      let sum = 0\r\n      result[0].forEach(function (record) {\r\n        sum += utils.get(record, field) || 0\r\n      })\r\n      result[0] = sum\r\n      return result\r\n    })\r\n  },\r\n\r\n  /**\r\n   * Apply the given update to the record with the specified primary key.\r\n   * Internal method used by Adapter#update.\r\n   *\r\n   * @name DSFirebaseAdapter#_update\r\n   * @method\r\n   * @private\r\n   * @param {Object} mapper The mapper.\r\n   * @param {(string|number)} id The primary key of the record to be updated.\r\n   * @param {Object} props The update to apply to the record.\r\n   * @param {Object} [opts] Configuration options.\r\n   * @return {Promise}\r\n   */\r\n  _update (mapper, id, props, opts) {\r\n    const self = this\r\n    props || (props = {})\r\n    return new Promise(function (resolve, reject) {\r\n      const key = self.getIdPath(mapper, opts, id)\r\n      let record = self.storage.getItem(key)\r\n      if (!record) {\r\n        return reject(new Error('Not Found'))\r\n      }\r\n      record = utils.fromJson(record)\r\n      utils.deepMixIn(record, props)\r\n      self.storage.setItem(key, utils.toJson(record))\r\n      return resolve([record, {}])\r\n    })\r\n  },\r\n\r\n  /**\r\n   * Apply the given update to all records that match the selection query.\r\n   * Internal method used by Adapter#updateAll.\r\n   *\r\n   * @name DSFirebaseAdapter#_updateAll\r\n   * @method\r\n   * @private\r\n   * @param {Object} mapper The mapper.\r\n   * @param {Object} props The update to apply to the selected records.\r\n   * @param {Object} [query] Selection query.\r\n   * @param {Object} [opts] Configuration options.\r\n   * @return {Promise}\r\n   */\r\n  _updateAll (mapper, props, query, opts) {\r\n    const self = this\r\n    const idAttribute = mapper.idAttribute\r\n    return self._findAll(mapper, query, opts).then(function (results) {\r\n      let [records] = results\r\n      records.forEach(function (record) {\r\n        record || (record = {})\r\n        const id = utils.get(record, idAttribute)\r\n        const key = self.getIdPath(mapper, opts, id)\r\n        utils.deepMixIn(record, props)\r\n        self.storage.setItem(key, utils.toJson(record))\r\n      })\r\n      return [records, {}]\r\n    })\r\n  },\r\n\r\n  /**\r\n   * Update the given records in a single batch. Internal method used by\r\n   * Adapter#updateMany.\r\n   *\r\n   * @name DSFirebaseAdapter#updateMany\r\n   * @method\r\n   * @private\r\n   * @param {Object} mapper The mapper.\r\n   * @param {Object[]} records The records to update.\r\n   * @param {Object} [opts] Configuration options.\r\n   * @return {Promise}\r\n   */\r\n  _updateMany (mapper, records, opts) {\r\n    const self = this\r\n    records || (records = [])\r\n    return new Promise(function (resolve) {\r\n      const updatedRecords = []\r\n      const idAttribute = mapper.idAttribute\r\n      records.forEach(function (record) {\r\n        if (!record) {\r\n          return\r\n        }\r\n        const id = utils.get(record, idAttribute)\r\n        if (utils.isUndefined(id)) {\r\n          return\r\n        }\r\n        const key = self.getIdPath(mapper, opts, id)\r\n        let json = self.storage.getItem(key)\r\n        if (!json) {\r\n          return\r\n        }\r\n        const existingRecord = utils.fromJson(json)\r\n        utils.deepMixIn(existingRecord, record)\r\n        self.storage.setItem(key, utils.toJson(existingRecord))\r\n        updatedRecords.push(existingRecord)\r\n      })\r\n      return resolve([records, {}])\r\n    })\r\n  },\r\n\r\n  create (mapper, props, opts) {\r\n    const self = this\r\n    return createTask(function (success, failure) {\r\n      queueTask(function () {\r\n        __super__.create.call(self, mapper, props, opts).then(success, failure)\r\n      })\r\n    })\r\n  },\r\n\r\n  createMany (mapper, props, opts) {\r\n    const self = this\r\n    return createTask(function (success, failure) {\r\n      queueTask(function () {\r\n        __super__.createMany.call(self, mapper, props, opts).then(success, failure)\r\n      })\r\n    })\r\n  },\r\n\r\n  destroy (mapper, id, opts) {\r\n    const self = this\r\n    return createTask(function (success, failure) {\r\n      queueTask(function () {\r\n        __super__.destroy.call(self, mapper, id, opts).then(success, failure)\r\n      })\r\n    })\r\n  },\r\n\r\n  destroyAll (mapper, query, opts) {\r\n    const self = this\r\n    return createTask(function (success, failure) {\r\n      queueTask(function () {\r\n        __super__.destroyAll.call(self, mapper, query, opts).then(success, failure)\r\n      })\r\n    })\r\n  },\r\n\r\n  /**\r\n   * TODO\r\n   *\r\n   * @name DSFirebaseAdapter#ensureId\r\n   * @method\r\n   */\r\n  ensureId (id, mapper, opts) {\r\n    const ids = this.getIds(mapper, opts)\r\n    if (utils.isArray(id)) {\r\n      if (!id.length) {\r\n        return\r\n      }\r\n      id.forEach(function (_id) {\r\n        ids[_id] = 1\r\n      })\r\n    } else {\r\n      ids[id] = 1\r\n    }\r\n    this.saveKeys(ids, mapper, opts)\r\n  },\r\n\r\n  /**\r\n   * TODO\r\n   *\r\n   * @name DSFirebaseAdapter#getPath\r\n   * @method\r\n   */\r\n  getPath (mapper, opts) {\r\n    opts = opts || {}\r\n    return makePath(opts.basePath === undefined ? (mapper.basePath === undefined ? this.basePath : mapper.basePath) : opts.basePath, mapper.name)\r\n  },\r\n\r\n  /**\r\n   * TODO\r\n   *\r\n   * @name DSFirebaseAdapter#getIdPath\r\n   * @method\r\n   */\r\n  getIdPath (mapper, opts, id) {\r\n    opts = opts || {}\r\n    return makePath(opts.basePath || this.basePath || mapper.basePath, mapper.endpoint, id)\r\n  },\r\n\r\n  /**\r\n   * TODO\r\n   *\r\n   * @name DSFirebaseAdapter#getIds\r\n   * @method\r\n   */\r\n  getIds (mapper, opts) {\r\n    let ids\r\n    const idsPath = this.getPath(mapper, opts)\r\n    const idsJson = this.storage.getItem(idsPath)\r\n    if (idsJson) {\r\n      ids = utils.fromJson(idsJson)\r\n    } else {\r\n      ids = {}\r\n    }\r\n    return ids\r\n  },\r\n\r\n  /**\r\n   * TODO\r\n   *\r\n   * @name DSFirebaseAdapter#removeId\r\n   * @method\r\n   */\r\n  removeId (id, mapper, opts) {\r\n    const ids = this.getIds(mapper, opts)\r\n    if (utils.isArray(id)) {\r\n      if (!id.length) {\r\n        return\r\n      }\r\n      id.forEach(function (_id) {\r\n        delete ids[_id]\r\n      })\r\n    } else {\r\n      delete ids[id]\r\n    }\r\n    this.saveKeys(ids, mapper, opts)\r\n  },\r\n\r\n  /**\r\n   * TODO\r\n   *\r\n   * @name DSFirebaseAdapter#saveKeys\r\n   * @method\r\n   */\r\n  saveKeys (ids, mapper, opts) {\r\n    ids = ids || {}\r\n    const idsPath = this.getPath(mapper, opts)\r\n    if (Object.keys(ids).length) {\r\n      this.storage.setItem(idsPath, utils.toJson(ids))\r\n    } else {\r\n      this.storage.removeItem(idsPath)\r\n    }\r\n  },\r\n\r\n  update (mapper, id, props, opts) {\r\n    const self = this\r\n    return createTask(function (success, failure) {\r\n      queueTask(function () {\r\n        __super__.update.call(self, mapper, id, props, opts).then(success, failure)\r\n      })\r\n    })\r\n  },\r\n\r\n  updateAll (mapper, props, query, opts) {\r\n    const self = this\r\n    return createTask(function (success, failure) {\r\n      queueTask(function () {\r\n        __super__.updateAll.call(self, mapper, props, query, opts).then(success, failure)\r\n      })\r\n    })\r\n  },\r\n\r\n  updateMany (mapper, records, opts) {\r\n    const self = this\r\n    return createTask(function (success, failure) {\r\n      queueTask(function () {\r\n        __super__.updateMany.call(self, mapper, records, opts).then(success, failure)\r\n      })\r\n    })\r\n  }\r\n})\r\n\r\n/**\r\n * Details of the current version of the `js-data-localstorage` module.\r\n *\r\n * @name DSFirebaseAdapter.version\r\n * @type {Object}\r\n * @property {string} version.full The full semver value.\r\n * @property {number} version.major The major version number.\r\n * @property {number} version.minor The minor version number.\r\n * @property {number} version.patch The patch version number.\r\n * @property {(string|boolean)} version.alpha The alpha version value,\r\n * otherwise `false` if the current version is not alpha.\r\n * @property {(string|boolean)} version.beta The beta version value,\r\n * otherwise `false` if the current version is not beta.\r\n */\r\nDSFirebaseAdapter.version = {\r\n  full: '<%= pkg.version %>',\r\n  major: parseInt('<%= major %>', 10),\r\n  minor: parseInt('<%= minor %>', 10),\r\n  patch: parseInt('<%= patch %>', 10),\r\n  alpha: '<%= alpha %>' !== 'false' ? '<%= alpha %>' : false,\r\n  beta: '<%= beta %>' !== 'false' ? '<%= beta %>' : false\r\n}\r\n\r\n/**\r\n * Registered as `js-data-localstorage` in NPM and Bower.\r\n *\r\n * __Script tag__:\r\n * ```javascript\r\n * window.DSFirebaseAdapter\r\n * ```\r\n * __CommonJS__:\r\n * ```javascript\r\n * var DSFirebaseAdapter = require('js-data-localstorage')\r\n * ```\r\n * __ES6 Modules__:\r\n * ```javascript\r\n * import DSFirebaseAdapter from 'js-data-localstorage'\r\n * ```\r\n * __AMD__:\r\n * ```javascript\r\n * define('myApp', ['js-data-localstorage'], function (DSFirebaseAdapter) { ... })\r\n * ```\r\n *\r\n * @module js-data-localstorage\r\n */\r\n\r\nmodule.exports = DSFirebaseAdapter\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/index.js\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_1__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external {\"amd\":\"js-data\",\"commonjs\":\"js-data\",\"commonjs2\":\"js-data\",\"root\":\"JSData\"}\n ** module id = 1\n ** module chunks = 0\n **/","(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(require('js-data')) :\n  typeof define === 'function' && define.amd ? define('js-data-adapter', ['js-data'], factory) :\n  (factory(global.JSData));\n}(this, function (jsData) { 'use strict';\n\n  var babelHelpers = {};\n  babelHelpers.typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj;\n  };\n\n  babelHelpers.defineProperty = function (obj, key, value) {\n    if (key in obj) {\n      Object.defineProperty(obj, key, {\n        value: value,\n        enumerable: true,\n        configurable: true,\n        writable: true\n      });\n    } else {\n      obj[key] = value;\n    }\n\n    return obj;\n  };\n\n  babelHelpers.slicedToArray = function () {\n    function sliceIterator(arr, i) {\n      var _arr = [];\n      var _n = true;\n      var _d = false;\n      var _e = undefined;\n\n      try {\n        for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n          _arr.push(_s.value);\n\n          if (i && _arr.length === i) break;\n        }\n      } catch (err) {\n        _d = true;\n        _e = err;\n      } finally {\n        try {\n          if (!_n && _i[\"return\"]) _i[\"return\"]();\n        } finally {\n          if (_d) throw _e;\n        }\n      }\n\n      return _arr;\n    }\n\n    return function (arr, i) {\n      if (Array.isArray(arr)) {\n        return arr;\n      } else if (Symbol.iterator in Object(arr)) {\n        return sliceIterator(arr, i);\n      } else {\n        throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n      }\n    };\n  }();\n\n  babelHelpers;\n\n  var noop = function noop() {\n    var self = this;\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    var opts = args[args.length - 1];\n    self.dbg.apply(self, [opts.op].concat(args));\n    return jsData.utils.resolve();\n  };\n\n  var noop2 = function noop2() {\n    var self = this;\n\n    for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    var opts = args[args.length - 2];\n    self.dbg.apply(self, [opts.op].concat(args));\n    return jsData.utils.resolve();\n  };\n\n  var unique = function unique(array) {\n    var seen = {};\n    var final = [];\n    array.forEach(function (item) {\n      if (item in seen) {\n        return;\n      }\n      final.push(item);\n      seen[item] = 0;\n    });\n    return final;\n  };\n\n  var withoutRelations = function withoutRelations(mapper, props) {\n    return jsData.utils.omit(props, mapper.relationFields || []);\n  };\n\n  var DEFAULTS = {\n    /**\n     * Whether to log debugging information.\n     *\n     * @name Adapter#debug\n     * @type {boolean}\n     * @default false\n     */\n    debug: false,\n\n    /**\n     * Whether to return a more detailed response object.\n     *\n     * @name Adapter#raw\n     * @type {boolean}\n     * @default false\n     */\n    raw: false\n  };\n\n  /**\n   * Abstract class meant to be extended by adapters.\n   *\n   * @class Adapter\n   * @abstract\n   * @param {Object} [opts] Configuration opts.\n   * @param {boolean} [opts.debug=false] Whether to log debugging information.\n   * @param {boolean} [opts.raw=false] Whether to return a more detailed response\n   * object.\n   */\n  function Adapter(opts) {\n    var self = this;\n    opts || (opts = {});\n    jsData.utils.fillIn(opts, DEFAULTS);\n    jsData.utils.fillIn(self, opts);\n  }\n\n  Adapter.reserved = ['orderBy', 'sort', 'limit', 'offset', 'skip', 'where'];\n\n  /**\n   * Response object used when `raw` is `true`. May contain other fields in\n   * addition to `data`.\n   *\n   * @typedef {Object} Response\n   * @property {Object} data Response data.\n   * @property {string} op The operation for which the response was created.\n   */\n  function Response(data, meta, op) {\n    var self = this;\n    meta || (meta = {});\n    self.data = data;\n    jsData.utils.fillIn(self, meta);\n    self.op = op;\n  }\n\n  Adapter.Response = Response;\n\n  /**\n   * Alternative to ES6 class syntax for extending `Adapter`.\n   *\n   * @name Adapter.extend\n   * @method\n   * @param {Object} [instanceProps] Properties that will be added to the\n   * prototype of the subclass.\n   * @param {Object} [classProps] Properties that will be added as static\n   * properties to the subclass itself.\n   * @return {Object} Subclass of `Adapter`.\n   */\n  Adapter.extend = jsData.utils.extend;\n\n  jsData.utils.addHiddenPropsToTarget(Adapter.prototype, {\n    /**\n     * Lifecycle method method called by <a href=\"#count__anchor\">count</a>.\n     *\n     * Override this method to add custom behavior for this lifecycle hook.\n     *\n     * Returning a Promise causes <a href=\"#count__anchor\">count</a> to wait for the Promise to resolve before continuing.\n     *\n     * If `opts.raw` is `true` then `response` will be a detailed response object, otherwise `response` will be the count.\n     *\n     * `response` may be modified. You can also re-assign `response` to another value by returning a different value or a Promise that resolves to a different value.\n     *\n     * A thrown error or rejected Promise will bubble up and reject the Promise returned by <a href=\"#count__anchor\">count</a>.\n     *\n     * @name Adapter#afterCount\n     * @method\n     * @param {Object} mapper The `mapper` argument passed to <a href=\"#count__anchor\">count</a>.\n     * @param {Object} props The `props` argument passed to <a href=\"#count__anchor\">count</a>.\n     * @param {Object} opts The `opts` argument passed to <a href=\"#count__anchor\">count</a>.\n     * @property {string} opts.op `afterCount`\n     * @param {Object|Response} response Count or {@link Response}, depending on the value of `opts.raw`.\n     */\n    afterCount: noop2,\n\n    /**\n     * Lifecycle method method called by <a href=\"#create__anchor\">create</a>.\n     *\n     * Override this method to add custom behavior for this lifecycle hook.\n     *\n     * Returning a Promise causes <a href=\"#create__anchor\">create</a> to wait for the Promise to resolve before continuing.\n     *\n     * If `opts.raw` is `true` then `response` will be a detailed response object, otherwise `response` will be the created record.\n     *\n     * `response` may be modified. You can also re-assign `response` to another value by returning a different value or a Promise that resolves to a different value.\n     *\n     * A thrown error or rejected Promise will bubble up and reject the Promise returned by <a href=\"#create__anchor\">create</a>.\n     *\n     * @name Adapter#afterCreate\n     * @method\n     * @param {Object} mapper The `mapper` argument passed to <a href=\"#create__anchor\">create</a>.\n     * @param {Object} props The `props` argument passed to <a href=\"#create__anchor\">create</a>.\n     * @param {Object} opts The `opts` argument passed to <a href=\"#create__anchor\">create</a>.\n     * @property {string} opts.op `afterCreate`\n     * @param {Object|Response} response Created record or {@link Response}, depending on the value of `opts.raw`.\n     */\n    afterCreate: noop2,\n\n    /**\n     * Lifecycle method method called by <a href=\"#createMany__anchor\">createMany</a>.\n     *\n     * Override this method to add custom behavior for this lifecycle hook.\n     *\n     * Returning a Promise causes <a href=\"#createMany__anchor\">createMany</a> to wait for the Promise to resolve before continuing.\n     *\n     * If `opts.raw` is `true` then `response` will be a detailed response object, otherwise `response` will be the created records.\n     *\n     * `response` may be modified. You can also re-assign `response` to another value by returning a different value or a Promise that resolves to a different value.\n     *\n     * A thrown error or rejected Promise will bubble up and reject the Promise returned by <a href=\"#createMany__anchor\">createMany</a>.\n     *\n     * @name Adapter#afterCreate\n     * @method\n     * @param {Object} mapper The `mapper` argument passed to <a href=\"#createMany__anchor\">createMany</a>.\n     * @param {Object[]} props The `props` argument passed to <a href=\"#createMany__anchor\">createMany</a>.\n     * @param {Object} opts The `opts` argument passed to <a href=\"#createMany__anchor\">createMany</a>.\n     * @property {string} opts.op `afterCreateMany`\n     * @param {Object[]|Response} response Created records or {@link Response}, depending on the value of `opts.raw`.\n     */\n    afterCreateMany: noop2,\n\n    /**\n     * Lifecycle method method called by <a href=\"#destroy__anchor\">destroy</a>.\n     *\n     * Override this method to add custom behavior for this lifecycle hook.\n     *\n     * Returning a Promise causes <a href=\"#destroy__anchor\">destroy</a> to wait for the Promise to resolve before continuing.\n     *\n     * If `opts.raw` is `true` then `response` will be a detailed response object, otherwise `response` will be `undefined`.\n     *\n     * `response` may be modified. You can also re-assign `response` to another value by returning a different value or a Promise that resolves to a different value.\n     *\n     * A thrown error or rejected Promise will bubble up and reject the Promise returned by <a href=\"#destroy__anchor\">destroy</a>.\n     *\n     * @name Adapter#afterDestroy\n     * @method\n     * @param {Object} mapper The `mapper` argument passed to <a href=\"#destroy__anchor\">destroy</a>.\n     * @param {(string|number)} id The `id` argument passed to <a href=\"#destroy__anchor\">destroy</a>.\n     * @param {Object} opts The `opts` argument passed to <a href=\"#destroy__anchor\">destroy</a>.\n     * @property {string} opts.op `afterDestroy`\n     * @param {undefined|Response} response `undefined` or {@link Response}, depending on the value of `opts.raw`.\n     */\n    afterDestroy: noop2,\n\n    /**\n     * Lifecycle method method called by <a href=\"#destroyAll__anchor\">destroyAll</a>.\n     *\n     * Override this method to add custom behavior for this lifecycle hook.\n     *\n     * Returning a Promise causes <a href=\"#destroyAll__anchor\">destroyAll</a> to wait for the Promise to resolve before continuing.\n     *\n     * If `opts.raw` is `true` then `response` will be a detailed response object, otherwise `response` will be `undefined`.\n     *\n     * `response` may be modified. You can also re-assign `response` to another value by returning a different value or a Promise that resolves to a different value.\n     *\n     * A thrown error or rejected Promise will bubble up and reject the Promise returned by <a href=\"#destroyAll__anchor\">destroyAll</a>.\n     *\n     * @name Adapter#afterDestroyAll\n     * @method\n     * @param {Object} mapper The `mapper` argument passed to <a href=\"#destroyAll__anchor\">destroyAll</a>.\n     * @param {Object} query The `query` argument passed to <a href=\"#destroyAll__anchor\">destroyAll</a>.\n     * @param {Object} opts The `opts` argument passed to <a href=\"#destroyAll__anchor\">destroyAll</a>.\n     * @property {string} opts.op `afterDestroyAll`\n     * @param {undefined|Response} response `undefined` or {@link Response}, depending on the value of `opts.raw`.\n     */\n    afterDestroyAll: noop2,\n\n    /**\n     * Lifecycle method method called by <a href=\"#find__anchor\">find</a>.\n     *\n     * Override this method to add custom behavior for this lifecycle hook.\n     *\n     * Returning a Promise causes <a href=\"#find__anchor\">find</a> to wait for the Promise to resolve before continuing.\n     *\n     * If `opts.raw` is `true` then `response` will be a detailed response object, otherwise `response` will be the found record, if any.\n     *\n     * `response` may be modified. You can also re-assign `response` to another value by returning a different value or a Promise that resolves to a different value.\n     *\n     * A thrown error or rejected Promise will bubble up and reject the Promise returned by <a href=\"#find__anchor\">find</a>.\n     *\n     * @name Adapter#afterFind\n     * @method\n     * @param {Object} mapper The `mapper` argument passed to <a href=\"#find__anchor\">find</a>.\n     * @param {(string|number)} id The `id` argument passed to <a href=\"#find__anchor\">find</a>.\n     * @param {Object} opts The `opts` argument passed to <a href=\"#find__anchor\">find</a>.\n     * @property {string} opts.op `afterFind`\n     * @param {Object|Response} response The found record or {@link Response}, depending on the value of `opts.raw`.\n     */\n    afterFind: noop2,\n\n    /**\n     * Lifecycle method method called by <a href=\"#findAll__anchor\">findAll</a>.\n     *\n     * Override this method to add custom behavior for this lifecycle hook.\n     *\n     * Returning a Promise causes <a href=\"#findAll__anchor\">findAll</a> to wait for the Promise to resolve before continuing.\n     *\n     * If `opts.raw` is `true` then `response` will be a detailed response object, otherwise `response` will be the found records, if any.\n     *\n     * `response` may be modified. You can also re-assign `response` to another value by returning a different value or a Promise that resolves to a different value.\n     *\n     * A thrown error or rejected Promise will bubble up and reject the Promise returned by <a href=\"#findAll__anchor\">findAll</a>.\n     *\n     * @name Adapter#afterFindAll\n     * @method\n     * @param {Object} mapper The `mapper` argument passed to <a href=\"#findAll__anchor\">findAll</a>.\n     * @param {Object} query The `query` argument passed to <a href=\"#findAll__anchor\">findAll</a>.\n     * @param {Object} opts The `opts` argument passed to <a href=\"#findAll__anchor\">findAll</a>.\n     * @property {string} opts.op `afterFindAll`\n     * @param {Object[]|Response} response The found records or {@link Response}, depending on the value of `opts.raw`.\n     */\n    afterFindAll: noop2,\n\n    /**\n     * Lifecycle method method called by <a href=\"#sum__anchor\">sum</a>.\n     *\n     * Override this method to add custom behavior for this lifecycle hook.\n     *\n     * Returning a Promise causes <a href=\"#sum__anchor\">sum</a> to wait for the Promise to resolve before continuing.\n     *\n     * If `opts.raw` is `true` then `response` will be a detailed response object, otherwise `response` will be the sum.\n     *\n     * `response` may be modified. You can also re-assign `response` to another value by returning a different value or a Promise that resolves to a different value.\n     *\n     * A thrown error or rejected Promise will bubble up and reject the Promise returned by <a href=\"#sum__anchor\">sum</a>.\n     *\n     * @name Adapter#afterSum\n     * @method\n     * @param {Object} mapper The `mapper` argument passed to <a href=\"#sum__anchor\">sum</a>.\n     * @param {Object} props The `props` argument passed to <a href=\"#sum__anchor\">sum</a>.\n     * @param {Object} opts The `opts` argument passed to <a href=\"#sum__anchor\">sum</a>.\n     * @property {string} opts.op `afterSum`\n     * @param {Object|Response} response Count or {@link Response}, depending on the value of `opts.raw`.\n     */\n    afterSum: noop2,\n\n    /**\n     * Lifecycle method method called by <a href=\"#update__anchor\">update</a>.\n     *\n     * Override this method to add custom behavior for this lifecycle hook.\n     *\n     * Returning a Promise causes <a href=\"#update__anchor\">update</a> to wait for the Promise to resolve before continuing.\n     *\n     * If `opts.raw` is `true` then `response` will be a detailed response object, otherwise `response` will be the updated record.\n     *\n     * `response` may be modified. You can also re-assign `response` to another value by returning a different value or a Promise that resolves to a different value.\n     *\n     * A thrown error or rejected Promise will bubble up and reject the Promise returned by <a href=\"#update__anchor\">update</a>.\n     *\n     * @name Adapter#afterUpdate\n     * @method\n     * @param {Object} mapper The `mapper` argument passed to <a href=\"#update__anchor\">update</a>.\n     * @param {(string|number)} id The `id` argument passed to <a href=\"#update__anchor\">update</a>.\n     * @param {Object} props The `props` argument passed to <a href=\"#update__anchor\">update</a>.\n     * @param {Object} opts The `opts` argument passed to <a href=\"#update__anchor\">update</a>.\n     * @property {string} opts.op `afterUpdate`\n     * @param {Object|Response} response The updated record or {@link Response}, depending on the value of `opts.raw`.\n     */\n    afterUpdate: noop2,\n\n    /**\n     * Lifecycle method method called by <a href=\"#updateAll__anchor\">updateAll</a>.\n     *\n     * Override this method to add custom behavior for this lifecycle hook.\n     *\n     * Returning a Promise causes <a href=\"#updateAll__anchor\">updateAll</a> to wait for the Promise to resolve before continuing.\n     *\n     * If `opts.raw` is `true` then `response` will be a detailed response object, otherwise `response` will be the updated records, if any.\n     *\n     * `response` may be modified. You can also re-assign `response` to another value by returning a different value or a Promise that resolves to a different value.\n     *\n     * A thrown error or rejected Promise will bubble up and reject the Promise returned by <a href=\"#updateAll__anchor\">updateAll</a>.\n     *\n     * @name Adapter#afterUpdateAll\n     * @method\n     * @param {Object} mapper The `mapper` argument passed to <a href=\"#updateAll__anchor\">updateAll</a>.\n     * @param {Object} props The `props` argument passed to <a href=\"#updateAll__anchor\">updateAll</a>.\n     * @param {Object} query The `query` argument passed to <a href=\"#updateAll__anchor\">updateAll</a>.\n     * @param {Object} opts The `opts` argument passed to <a href=\"#updateAll__anchor\">updateAll</a>.\n     * @property {string} opts.op `afterUpdateAll`\n     * @param {Object[]|Response} response The updated records or {@link Response}, depending on the value of `opts.raw`.\n     */\n    afterUpdateAll: noop2,\n\n    /**\n     * Lifecycle method method called by <a href=\"#updateMany__anchor\">updateMany</a>.\n     *\n     * Override this method to add custom behavior for this lifecycle hook.\n     *\n     * Returning a Promise causes <a href=\"#updateMany__anchor\">updateMany</a> to wait for the Promise to resolve before continuing.\n     *\n     * If `opts.raw` is `true` then `response` will be a detailed response object, otherwise `response` will be the updated records, if any.\n     *\n     * `response` may be modified. You can also re-assign `response` to another value by returning a different value or a Promise that resolves to a different value.\n     *\n     * A thrown error or rejected Promise will bubble up and reject the Promise returned by <a href=\"#updateMany__anchor\">updateMany</a>.\n     *\n     * @name Adapter#afterUpdateMany\n     * @method\n     * @param {Object} mapper The `mapper` argument passed to <a href=\"#updateMany__anchor\">updateMany</a>.\n     * @param {Object[]} records The `records` argument passed to <a href=\"#updateMany__anchor\">updateMany</a>.\n     * @param {Object} opts The `opts` argument passed to <a href=\"#updateMany__anchor\">updateMany</a>.\n     * @property {string} opts.op `afterUpdateMany`\n     * @param {Object[]|Response} response The updated records or {@link Response}, depending on the value of `opts.raw`.\n     */\n    afterUpdateMany: noop2,\n\n    /**\n     * Lifecycle method method called by <a href=\"#count__anchor\">count</a>.\n     *\n     * Override this method to add custom behavior for this lifecycle hook.\n     *\n     * Returning a Promise causes <a href=\"#count__anchor\">count</a> to wait for the Promise to resolve before continuing.\n     *\n     * A thrown error or rejected Promise will bubble up and reject the Promise returned by <a href=\"#count__anchor\">count</a>.\n     *\n     * @name Adapter#beforeCount\n     * @method\n     * @param {Object} mapper The `mapper` argument passed to <a href=\"#count__anchor\">count</a>.\n     * @param {Object} query The `query` argument passed to <a href=\"#count__anchor\">count</a>.\n     * @param {Object} opts The `opts` argument passed to <a href=\"#count__anchor\">count</a>.\n     * @property {string} opts.op `beforeCount`\n     */\n    beforeCount: noop,\n\n    /**\n     * Lifecycle method method called by <a href=\"#create__anchor\">create</a>.\n     *\n     * Override this method to add custom behavior for this lifecycle hook.\n     *\n     * Returning a Promise causes <a href=\"#create__anchor\">create</a> to wait for the Promise to resolve before continuing.\n     *\n     * `props` may be modified. You can also re-assign `props` to another value by returning a different value or a Promise that resolves to a different value.\n     *\n     * A thrown error or rejected Promise will bubble up and reject the Promise returned by <a href=\"#create__anchor\">create</a>.\n     *\n     * @name Adapter#beforeCreate\n     * @method\n     * @param {Object} mapper The `mapper` argument passed to <a href=\"#create__anchor\">create</a>.\n     * @param {Object} props The `props` argument passed to <a href=\"#create__anchor\">create</a>.\n     * @param {Object} opts The `opts` argument passed to <a href=\"#create__anchor\">create</a>.\n     * @property {string} opts.op `beforeCreate`\n     */\n    beforeCreate: noop,\n\n    /**\n     * Lifecycle method method called by <a href=\"#createMany__anchor\">createMany</a>.\n     *\n     * Override this method to add custom behavior for this lifecycle hook.\n     *\n     * Returning a Promise causes <a href=\"#createMany__anchor\">createMany</a> to wait for the Promise to resolve before continuing.\n     *\n     * `props` may be modified. You can also re-assign `props` to another value by returning a different value or a Promise that resolves to a different value.\n     *\n     * A thrown error or rejected Promise will bubble up and reject the Promise returned by <a href=\"#createMany__anchor\">createMany</a>.\n     *\n     * @name Adapter#beforeCreateMany\n     * @method\n     * @param {Object} mapper The `mapper` argument passed to <a href=\"#createMany__anchor\">createMany</a>.\n     * @param {Object[]} props The `props` argument passed to <a href=\"#createMany__anchor\">createMany</a>.\n     * @param {Object} opts The `opts` argument passed to <a href=\"#createMany__anchor\">createMany</a>.\n     * @property {string} opts.op `beforeCreateMany`\n     */\n    beforeCreateMany: noop,\n\n    /**\n     * Lifecycle method method called by <a href=\"#destroy__anchor\">destroy</a>.\n     *\n     * Override this method to add custom behavior for this lifecycle hook.\n     *\n     * Returning a Promise causes <a href=\"#destroy__anchor\">destroy</a> to wait for the Promise to resolve before continuing.\n     *\n     * A thrown error or rejected Promise will bubble up and reject the Promise returned by <a href=\"#destroy__anchor\">destroy</a>.\n     *\n     * @name Adapter#beforeDestroy\n     * @method\n     * @param {Object} mapper The `mapper` argument passed to <a href=\"#destroy__anchor\">destroy</a>.\n     * @param {(string|number)} id The `id` argument passed to <a href=\"#destroy__anchor\">destroy</a>.\n     * @param {Object} opts The `opts` argument passed to <a href=\"#destroy__anchor\">destroy</a>.\n     * @property {string} opts.op `beforeDestroy`\n     */\n    beforeDestroy: noop,\n\n    /**\n     * Lifecycle method method called by <a href=\"#destroyAll__anchor\">destroyAll</a>.\n     *\n     * Override this method to add custom behavior for this lifecycle hook.\n     *\n     * Returning a Promise causes <a href=\"#destroyAll__anchor\">destroyAll</a> to wait for the Promise to resolve before continuing.\n     *\n     * A thrown error or rejected Promise will bubble up and reject the Promise returned by <a href=\"#destroyAll__anchor\">destroyAll</a>.\n     *\n     * @name Adapter#beforeDestroyAll\n     * @method\n     * @param {Object} mapper The `mapper` argument passed to <a href=\"#destroyAll__anchor\">destroyAll</a>.\n     * @param {Object} query The `query` argument passed to <a href=\"#destroyAll__anchor\">destroyAll</a>.\n     * @param {Object} opts The `opts` argument passed to <a href=\"#destroyAll__anchor\">destroyAll</a>.\n     * @property {string} opts.op `beforeDestroyAll`\n     */\n    beforeDestroyAll: noop,\n\n    /**\n     * Lifecycle method method called by <a href=\"#find__anchor\">find</a>.\n     *\n     * Override this method to add custom behavior for this lifecycle hook.\n     *\n     * Returning a Promise causes <a href=\"#find__anchor\">find</a> to wait for the Promise to resolve before continuing.\n     *\n     * A thrown error or rejected Promise will bubble up and reject the Promise returned by <a href=\"#find__anchor\">find</a>.\n     *\n     * @name Adapter#beforeFind\n     * @method\n     * @param {Object} mapper The `mapper` argument passed to <a href=\"#find__anchor\">find</a>.\n     * @param {(string|number)} id The `id` argument passed to <a href=\"#find__anchor\">find</a>.\n     * @param {Object} opts The `opts` argument passed to <a href=\"#find__anchor\">find</a>.\n     * @property {string} opts.op `beforeFind`\n     */\n    beforeFind: noop,\n\n    /**\n     * Lifecycle method method called by <a href=\"#findAll__anchor\">findAll</a>.\n     *\n     * Override this method to add custom behavior for this lifecycle hook.\n     *\n     * Returning a Promise causes <a href=\"#findAll__anchor\">findAll</a> to wait for the Promise to resolve before continuing.\n     *\n     * A thrown error or rejected Promise will bubble up and reject the Promise returned by <a href=\"#findAll__anchor\">findAll</a>.\n     *\n     * @name Adapter#beforeFindAll\n     * @method\n     * @param {Object} mapper The `mapper` argument passed to <a href=\"#findAll__anchor\">findAll</a>.\n     * @param {Object} query The `query` argument passed to <a href=\"#findAll__anchor\">findAll</a>.\n     * @param {Object} opts The `opts` argument passed to <a href=\"#findAll__anchor\">findAll</a>.\n     * @property {string} opts.op `beforeFindAll`\n     */\n    beforeFindAll: noop,\n\n    /**\n     * Lifecycle method method called by <a href=\"#sum__anchor\">sum</a>.\n     *\n     * Override this method to add custom behavior for this lifecycle hook.\n     *\n     * Returning a Promise causes <a href=\"#sum__anchor\">sum</a> to wait for the Promise to resolve before continuing.\n     *\n     * A thrown error or rejected Promise will bubble up and reject the Promise returned by <a href=\"#sum__anchor\">sum</a>.\n     *\n     * @name Adapter#beforeSum\n     * @method\n     * @param {Object} mapper The `mapper` argument passed to <a href=\"#sum__anchor\">sum</a>.\n     * @param {Object} query The `query` argument passed to <a href=\"#sum__anchor\">sum</a>.\n     * @param {Object} opts The `opts` argument passed to <a href=\"#sum__anchor\">sum</a>.\n     * @property {string} opts.op `beforeSum`\n     */\n    beforeSum: noop,\n\n    /**\n     * Lifecycle method method called by <a href=\"#update__anchor\">update</a>.\n     *\n     * Override this method to add custom behavior for this lifecycle hook.\n     *\n     * Returning a Promise causes <a href=\"#update__anchor\">update</a> to wait for the Promise to resolve before continuing.\n     *\n     * `props` may be modified. You can also re-assign `props` to another value by returning a different value or a Promise that resolves to a different value.\n     *\n     * A thrown error or rejected Promise will bubble up and reject the Promise returned by <a href=\"#update__anchor\">update</a>.\n     *\n     * @name Adapter#beforeUpdate\n     * @method\n     * @param {Object} mapper The `mapper` argument passed to <a href=\"#update__anchor\">update</a>.\n     * @param {(string|number)} id The `id` argument passed to <a href=\"#update__anchor\">update</a>.\n     * @param {Object} props The `props` argument passed to <a href=\"#update__anchor\">update</a>.\n     * @param {Object} opts The `opts` argument passed to <a href=\"#update__anchor\">update</a>.\n     * @property {string} opts.op `beforeUpdate`\n     */\n    beforeUpdate: noop,\n\n    /**\n     * Lifecycle method method called by <a href=\"#updateAll__anchor\">updateAll</a>.\n     *\n     * Override this method to add custom behavior for this lifecycle hook.\n     *\n     * Returning a Promise causes <a href=\"#updateAll__anchor\">updateAll</a> to wait for the Promise to resolve before continuing.\n     *\n     * `props` may be modified. You can also re-assign `props` to another value by returning a different value or a Promise that resolves to a different value.\n     *\n     * A thrown error or rejected Promise will bubble up and reject the Promise returned by <a href=\"#updateAll__anchor\">updateAll</a>.\n     *\n     * @name Adapter#beforeUpdateAll\n     * @method\n     * @param {Object} mapper The `mapper` argument passed to <a href=\"#updateAll__anchor\">updateAll</a>.\n     * @param {Object} props The `props` argument passed to <a href=\"#updateAll__anchor\">updateAll</a>.\n     * @param {Object} query The `query` argument passed to <a href=\"#updateAll__anchor\">updateAll</a>.\n     * @param {Object} opts The `opts` argument passed to <a href=\"#updateAll__anchor\">updateAll</a>.\n     * @property {string} opts.op `beforeUpdateAll`\n     */\n    beforeUpdateAll: noop,\n\n    /**\n     * Lifecycle method method called by <a href=\"#updateMany__anchor\">updateMany</a>.\n     *\n     * Override this method to add custom behavior for this lifecycle hook.\n     *\n     * Returning a Promise causes <a href=\"#updateMany__anchor\">updateMany</a> to wait for the Promise to resolve before continuing.\n     *\n     * `props` may be modified. You can also re-assign `props` to another value by returning a different value or a Promise that resolves to a different value.\n     *\n     * A thrown error or rejected Promise will bubble up and reject the Promise returned by <a href=\"#updateMany__anchor\">updateMany</a>.\n     *\n     * @name Adapter#beforeUpdateMany\n     * @method\n     * @param {Object} mapper The `mapper` argument passed to <a href=\"#updateMany__anchor\">updateMany</a>.\n     * @param {Object[]} props The `props` argument passed to <a href=\"#updateMany__anchor\">updateMany</a>.\n     * @param {Object} opts The `opts` argument passed to <a href=\"#updateMany__anchor\">updateMany</a>.\n     * @property {string} opts.op `beforeUpdateMany`\n     */\n    beforeUpdateMany: noop,\n\n    /**\n     * Shortcut for `#log('debug'[, arg1[, arg2[, argn]]])`.\n     *\n     * @name Adapter#dbg\n     * @method\n     */\n    dbg: function dbg() {\n      for (var _len3 = arguments.length, args = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n        args[_key3] = arguments[_key3];\n      }\n\n      this.log.apply(this, ['debug'].concat(args));\n    },\n\n\n    /**\n     * Retrieve the number of records that match the selection query. Called by\n     * `Mapper#count`.\n     *\n     * @name Adapter#count\n     * @method\n     * @param {Object} mapper The mapper.\n     * @param {Object} [query] Selection query.\n     * @param {Object} [query.where] Filtering criteria.\n     * @param {string|Array} [query.orderBy] Sorting criteria.\n     * @param {string|Array} [query.sort] Same as `query.sort`.\n     * @param {number} [query.limit] Limit results.\n     * @param {number} [query.skip] Offset results.\n     * @param {number} [query.offset] Same as `query.skip`.\n     * @param {Object} [opts] Configuration options.\n     * @param {boolean} [opts.raw=false] Whether to return a more detailed\n     * response object.\n     * @return {Promise}\n     */\n    count: function count(mapper, query, opts) {\n      var self = this;\n      var op = void 0;\n      query || (query = {});\n      opts || (opts = {});\n\n      // beforeCount lifecycle hook\n      op = opts.op = 'beforeCount';\n      return jsData.utils.resolve(self[op](mapper, query, opts)).then(function () {\n        // Allow for re-assignment from lifecycle hook\n        op = opts.op = 'count';\n        self.dbg(op, mapper, query, opts);\n        return jsData.utils.resolve(self._count(mapper, query, opts));\n      }).then(function (results) {\n        var _results = babelHelpers.slicedToArray(results, 2);\n\n        var data = _results[0];\n        var result = _results[1];\n\n        result || (result = {});\n        var response = new Response(data, result, op);\n        response = self.respond(response, opts);\n\n        // afterCount lifecycle hook\n        op = opts.op = 'afterCount';\n        return jsData.utils.resolve(self[op](mapper, query, opts, response)).then(function (_response) {\n          // Allow for re-assignment from lifecycle hook\n          return jsData.utils.isUndefined(_response) ? response : _response;\n        });\n      });\n    },\n\n\n    /**\n     * Create a new record. Called by `Mapper#create`.\n     *\n     * @name Adapter#create\n     * @method\n     * @param {Object} mapper The mapper.\n     * @param {Object} props The record to be created.\n     * @param {Object} [opts] Configuration options.\n     * @param {boolean} [opts.raw=false] Whether to return a more detailed\n     * response object.\n     * @return {Promise}\n     */\n    create: function create(mapper, props, opts) {\n      var self = this;\n      var op = void 0;\n      props || (props = {});\n      opts || (opts = {});\n\n      // beforeCreate lifecycle hook\n      op = opts.op = 'beforeCreate';\n      return jsData.utils.resolve(self[op](mapper, props, opts)).then(function (_props) {\n        // Allow for re-assignment from lifecycle hook\n        props = jsData.utils.isUndefined(_props) ? props : _props;\n        props = withoutRelations(mapper, props);\n        op = opts.op = 'create';\n        self.dbg(op, mapper, props, opts);\n        return jsData.utils.resolve(self._create(mapper, props, opts));\n      }).then(function (results) {\n        var _results2 = babelHelpers.slicedToArray(results, 2);\n\n        var data = _results2[0];\n        var result = _results2[1];\n\n        result || (result = {});\n        var response = new Response(data, result, 'create');\n        response.created = data ? 1 : 0;\n        response = self.respond(response, opts);\n\n        // afterCreate lifecycle hook\n        op = opts.op = 'afterCreate';\n        return jsData.utils.resolve(self[op](mapper, props, opts, response)).then(function (_response) {\n          // Allow for re-assignment from lifecycle hook\n          return jsData.utils.isUndefined(_response) ? response : _response;\n        });\n      });\n    },\n\n\n    /**\n     * Create multiple records in a single batch. Called by `Mapper#createMany`.\n     *\n     * @name Adapter#createMany\n     * @method\n     * @param {Object} mapper The mapper.\n     * @param {Object} props The records to be created.\n     * @param {Object} [opts] Configuration options.\n     * @param {boolean} [opts.raw=false] Whether to return a more detailed\n     * response object.\n     * @return {Promise}\n     */\n    createMany: function createMany(mapper, props, opts) {\n      var self = this;\n      var op = void 0;\n      props || (props = {});\n      opts || (opts = {});\n\n      // beforeCreateMany lifecycle hook\n      op = opts.op = 'beforeCreateMany';\n      return jsData.utils.resolve(self[op](mapper, props, opts)).then(function (_props) {\n        // Allow for re-assignment from lifecycle hook\n        props = jsData.utils.isUndefined(_props) ? props : _props;\n        props = props.map(function (record) {\n          return withoutRelations(mapper, record);\n        });\n        op = opts.op = 'createMany';\n        self.dbg(op, mapper, props, opts);\n        return jsData.utils.resolve(self._createMany(mapper, props, opts));\n      }).then(function (results) {\n        var _results3 = babelHelpers.slicedToArray(results, 2);\n\n        var data = _results3[0];\n        var result = _results3[1];\n\n        data || (data = []);\n        result || (result = {});\n        var response = new Response(data, result, 'createMany');\n        response.created = data.length;\n        response = self.respond(response, opts);\n\n        // afterCreateMany lifecycle hook\n        op = opts.op = 'afterCreateMany';\n        return jsData.utils.resolve(self[op](mapper, props, opts, response)).then(function (_response) {\n          // Allow for re-assignment from lifecycle hook\n          return jsData.utils.isUndefined(_response) ? response : _response;\n        });\n      });\n    },\n\n\n    /**\n     * Destroy the record with the given primary key. Called by\n     * `Mapper#destroy`.\n     *\n     * @name Adapter#destroy\n     * @method\n     * @param {Object} mapper The mapper.\n     * @param {(string|number)} id Primary key of the record to destroy.\n     * @param {Object} [opts] Configuration options.\n     * @param {boolean} [opts.raw=false] Whether to return a more detailed\n     * response object.\n     * @return {Promise}\n     */\n    destroy: function destroy(mapper, id, opts) {\n      var self = this;\n      var op = void 0;\n      opts || (opts = {});\n\n      // beforeDestroy lifecycle hook\n      op = opts.op = 'beforeDestroy';\n      return jsData.utils.resolve(self[op](mapper, id, opts)).then(function () {\n        op = opts.op = 'destroy';\n        self.dbg(op, mapper, id, opts);\n        return jsData.utils.resolve(self._destroy(mapper, id, opts));\n      }).then(function (results) {\n        var _results4 = babelHelpers.slicedToArray(results, 2);\n\n        var data = _results4[0];\n        var result = _results4[1];\n\n        result || (result = {});\n        var response = new Response(data, result, 'destroy');\n        response = self.respond(response, opts);\n\n        // afterDestroy lifecycle hook\n        op = opts.op = 'afterDestroy';\n        return jsData.utils.resolve(self[op](mapper, id, opts, response)).then(function (_response) {\n          // Allow for re-assignment from lifecycle hook\n          return jsData.utils.isUndefined(_response) ? response : _response;\n        });\n      });\n    },\n\n\n    /**\n     * Destroy the records that match the selection query. Called by\n     * `Mapper#destroyAll`.\n     *\n     * @name Adapter#destroyAll\n     * @method\n     * @param {Object} mapper the mapper.\n     * @param {Object} [query] Selection query.\n     * @param {Object} [query.where] Filtering criteria.\n     * @param {string|Array} [query.orderBy] Sorting criteria.\n     * @param {string|Array} [query.sort] Same as `query.sort`.\n     * @param {number} [query.limit] Limit results.\n     * @param {number} [query.skip] Offset results.\n     * @param {number} [query.offset] Same as `query.skip`.\n     * @param {Object} [opts] Configuration options.\n     * @param {boolean} [opts.raw=false] Whether to return a more detailed\n     * response object.\n     * @return {Promise}\n     */\n    destroyAll: function destroyAll(mapper, query, opts) {\n      var self = this;\n      var op = void 0;\n      query || (query = {});\n      opts || (opts = {});\n\n      // beforeDestroyAll lifecycle hook\n      op = opts.op = 'beforeDestroyAll';\n      return jsData.utils.resolve(self[op](mapper, query, opts)).then(function () {\n        op = opts.op = 'destroyAll';\n        self.dbg(op, mapper, query, opts);\n        return jsData.utils.resolve(self._destroyAll(mapper, query, opts));\n      }).then(function (results) {\n        var _results5 = babelHelpers.slicedToArray(results, 2);\n\n        var data = _results5[0];\n        var result = _results5[1];\n\n        result || (result = {});\n        var response = new Response(data, result, 'destroyAll');\n        response = self.respond(response, opts);\n\n        // afterDestroyAll lifecycle hook\n        op = opts.op = 'afterDestroyAll';\n        return jsData.utils.resolve(self[op](mapper, query, opts, response)).then(function (_response) {\n          // Allow for re-assignment from lifecycle hook\n          return jsData.utils.isUndefined(_response) ? response : _response;\n        });\n      });\n    },\n\n\n    /**\n     * Return the foreignKey from the given record for the provided relationship.\n     *\n     * There may be reasons why you may want to override this method, like when\n     * the id of the parent doesn't exactly match up to the key on the child.\n     *\n     * Override with care.\n     *\n     * @name Adapter#makeHasManyForeignKey\n     * @method\n     * @return {*}\n     */\n    makeHasManyForeignKey: function makeHasManyForeignKey(mapper, def, record) {\n      return def.getForeignKey(record);\n    },\n\n\n    /**\n     * Return the localKeys from the given record for the provided relationship.\n     *\n     * Override with care.\n     *\n     * @name Adapter#makeHasManyLocalKeys\n     * @method\n     * @return {*}\n     */\n    makeHasManyLocalKeys: function makeHasManyLocalKeys(mapper, def, record) {\n      var localKeys = [];\n      var itemKeys = jsData.utils.get(record, def.localKeys) || [];\n      itemKeys = jsData.utils.isArray(itemKeys) ? itemKeys : Object.keys(itemKeys);\n      localKeys = localKeys.concat(itemKeys);\n      return unique(localKeys).filter(function (x) {\n        return x;\n      });\n    },\n\n\n    /**\n     * Return the foreignKeys from the given record for the provided relationship.\n     *\n     * Override with care.\n     *\n     * @name Adapter#makeHasManyForeignKeys\n     * @method\n     * @return {*}\n     */\n    makeHasManyForeignKeys: function makeHasManyForeignKeys(mapper, def, record) {\n      return jsData.utils.get(record, mapper.idAttribute);\n    },\n\n\n    /**\n     * Load a hasMany relationship.\n     *\n     * Override with care.\n     *\n     * @name Adapter#loadHasMany\n     * @method\n     * @return {Promise}\n     */\n    loadHasMany: function loadHasMany(mapper, def, records, __opts) {\n      var self = this;\n      var singular = false;\n\n      if (jsData.utils.isObject(records) && !jsData.utils.isArray(records)) {\n        singular = true;\n        records = [records];\n      }\n      var IDs = records.map(function (record) {\n        return self.makeHasManyForeignKey(mapper, def, record);\n      });\n      var query = {\n        where: {}\n      };\n      var criteria = query.where[def.foreignKey] = {};\n      if (singular) {\n        // more efficient query when we only have one record\n        criteria['=='] = IDs[0];\n      } else {\n        criteria['in'] = IDs.filter(function (id) {\n          return id;\n        });\n      }\n      return self.findAll(def.getRelation(), query, __opts).then(function (relatedItems) {\n        records.forEach(function (record) {\n          var attached = [];\n          // avoid unneccesary iteration when we only have one record\n          if (singular) {\n            attached = relatedItems;\n          } else {\n            relatedItems.forEach(function (relatedItem) {\n              if (jsData.utils.get(relatedItem, def.foreignKey) === record[mapper.idAttribute]) {\n                attached.push(relatedItem);\n              }\n            });\n          }\n          def.setLocalField(record, attached);\n        });\n      });\n    },\n    loadHasManyLocalKeys: function loadHasManyLocalKeys(mapper, def, records, __opts) {\n      var self = this;\n      var record = void 0;\n      var relatedMapper = def.getRelation();\n\n      if (jsData.utils.isObject(records) && !jsData.utils.isArray(records)) {\n        record = records;\n      }\n\n      if (record) {\n        return self.findAll(relatedMapper, {\n          where: babelHelpers.defineProperty({}, relatedMapper.idAttribute, {\n            'in': self.makeHasManyLocalKeys(mapper, def, record)\n          })\n        }, __opts).then(function (relatedItems) {\n          def.setLocalField(record, relatedItems);\n        });\n      } else {\n        var _ret = function () {\n          var localKeys = [];\n          records.forEach(function (record) {\n            localKeys = localKeys.concat(self.self.makeHasManyLocalKeys(mapper, def, record));\n          });\n          return {\n            v: self.findAll(relatedMapper, {\n              where: babelHelpers.defineProperty({}, relatedMapper.idAttribute, {\n                'in': unique(localKeys).filter(function (x) {\n                  return x;\n                })\n              })\n            }, __opts).then(function (relatedItems) {\n              records.forEach(function (item) {\n                var attached = [];\n                var itemKeys = jsData.utils.get(item, def.localKeys) || [];\n                itemKeys = jsData.utils.isArray(itemKeys) ? itemKeys : Object.keys(itemKeys);\n                relatedItems.forEach(function (relatedItem) {\n                  if (itemKeys && itemKeys.indexOf(relatedItem[relatedMapper.idAttribute]) !== -1) {\n                    attached.push(relatedItem);\n                  }\n                });\n                def.setLocalField(item, attached);\n              });\n              return relatedItems;\n            })\n          };\n        }();\n\n        if ((typeof _ret === 'undefined' ? 'undefined' : babelHelpers.typeof(_ret)) === \"object\") return _ret.v;\n      }\n    },\n    loadHasManyForeignKeys: function loadHasManyForeignKeys(mapper, def, records, __opts) {\n      var self = this;\n      var relatedMapper = def.getRelation();\n      var idAttribute = mapper.idAttribute;\n      var record = void 0;\n\n      if (jsData.utils.isObject(records) && !jsData.utils.isArray(records)) {\n        record = records;\n      }\n\n      if (record) {\n        return self.findAll(def.getRelation(), {\n          where: babelHelpers.defineProperty({}, def.foreignKeys, {\n            'contains': self.makeHasManyForeignKeys(mapper, def, record)\n          })\n        }, __opts).then(function (relatedItems) {\n          def.setLocalField(record, relatedItems);\n        });\n      } else {\n        return self.findAll(relatedMapper, {\n          where: babelHelpers.defineProperty({}, def.foreignKeys, {\n            'isectNotEmpty': records.map(function (record) {\n              return self.makeHasManyForeignKeys(mapper, def, record);\n            })\n          })\n        }, __opts).then(function (relatedItems) {\n          var foreignKeysField = def.foreignKeys;\n          records.forEach(function (record) {\n            var _relatedItems = [];\n            var id = jsData.utils.get(record, idAttribute);\n            relatedItems.forEach(function (relatedItem) {\n              var foreignKeys = jsData.utils.get(relatedItems, foreignKeysField) || [];\n              if (foreignKeys.indexOf(id) !== -1) {\n                _relatedItems.push(relatedItem);\n              }\n            });\n            def.setLocalField(record, _relatedItems);\n          });\n        });\n      }\n    },\n\n\n    /**\n     * Load a hasOne relationship.\n     *\n     * Override with care.\n     *\n     * @name Adapter#loadHasOne\n     * @method\n     * @return {Promise}\n     */\n    loadHasOne: function loadHasOne(mapper, def, records, __opts) {\n      if (jsData.utils.isObject(records) && !jsData.utils.isArray(records)) {\n        records = [records];\n      }\n      return this.loadHasMany(mapper, def, records, __opts).then(function () {\n        records.forEach(function (record) {\n          var relatedData = def.getLocalField(record);\n          if (jsData.utils.isArray(relatedData) && relatedData.length) {\n            def.setLocalField(record, relatedData[0]);\n          }\n        });\n      });\n    },\n\n\n    /**\n     * Return the foreignKey from the given record for the provided relationship.\n     *\n     * Override with care.\n     *\n     * @name Adapter#makeBelongsToForeignKey\n     * @method\n     * @return {*}\n     */\n    makeBelongsToForeignKey: function makeBelongsToForeignKey(mapper, def, record) {\n      return def.getForeignKey(record);\n    },\n\n\n    /**\n     * Load a belongsTo relationship.\n     *\n     * Override with care.\n     *\n     * @name Adapter#loadBelongsTo\n     * @method\n     * @return {Promise}\n     */\n    loadBelongsTo: function loadBelongsTo(mapper, def, records, __opts) {\n      var self = this;\n      var relationDef = def.getRelation();\n\n      if (jsData.utils.isObject(records) && !jsData.utils.isArray(records)) {\n        var _ret2 = function () {\n          var record = records;\n          return {\n            v: self.find(relationDef, self.makeBelongsToForeignKey(mapper, def, record), __opts).then(function (relatedItem) {\n              def.setLocalField(record, relatedItem);\n            })\n          };\n        }();\n\n        if ((typeof _ret2 === 'undefined' ? 'undefined' : babelHelpers.typeof(_ret2)) === \"object\") return _ret2.v;\n      } else {\n        var keys = records.map(function (record) {\n          return self.makeBelongsToForeignKey(mapper, def, record);\n        }).filter(function (key) {\n          return key;\n        });\n        return self.findAll(relationDef, {\n          where: babelHelpers.defineProperty({}, relationDef.idAttribute, {\n            'in': keys\n          })\n        }, __opts).then(function (relatedItems) {\n          records.forEach(function (record) {\n            relatedItems.forEach(function (relatedItem) {\n              if (relatedItem[relationDef.idAttribute] === record[def.foreignKey]) {\n                def.setLocalField(record, relatedItem);\n              }\n            });\n          });\n        });\n      }\n    },\n\n\n    /**\n     * Retrieve the record with the given primary key. Called by `Mapper#find`.\n     *\n     * @name Adapter#find\n     * @method\n     * @param {Object} mapper The mapper.\n     * @param {(string|number)} id Primary key of the record to retrieve.\n     * @param {Object} [opts] Configuration options.\n     * @param {boolean} [opts.raw=false] Whether to return a more detailed\n     * response object.\n     * @param {string[]} [opts.with=[]] Relations to eager load.\n     * @return {Promise}\n     */\n    find: function find(mapper, id, opts) {\n      var self = this;\n      var record = void 0,\n          op = void 0;\n      opts || (opts = {});\n      opts.with || (opts.with = []);\n\n      // beforeFind lifecycle hook\n      op = opts.op = 'beforeFind';\n      return jsData.utils.resolve(self[op](mapper, id, opts)).then(function () {\n        op = opts.op = 'find';\n        self.dbg(op, mapper, id, opts);\n        return jsData.utils.resolve(self._find(mapper, id, opts));\n      }).then(function (results) {\n        var _results6 = babelHelpers.slicedToArray(results, 1);\n\n        var _record = _results6[0];\n\n        if (!_record) {\n          return;\n        }\n        record = _record;\n        var tasks = [];\n\n        jsData.utils.forEachRelation(mapper, opts, function (def, __opts) {\n          var task = void 0;\n          if (def.foreignKey && (def.type === 'hasOne' || def.type === 'hasMany')) {\n            if (def.type === 'hasOne') {\n              task = self.loadHasOne(mapper, def, record, __opts);\n            } else {\n              task = self.loadHasMany(mapper, def, record, __opts);\n            }\n          } else if (def.type === 'hasMany' && def.localKeys) {\n            task = self.loadHasManyLocalKeys(mapper, def, record, __opts);\n          } else if (def.type === 'hasMany' && def.foreignKeys) {\n            task = self.loadHasManyForeignKeys(mapper, def, record, __opts);\n          } else if (def.type === 'belongsTo') {\n            task = self.loadBelongsTo(mapper, def, record, __opts);\n          }\n          if (task) {\n            tasks.push(task);\n          }\n        });\n\n        return Promise.all(tasks);\n      }).then(function () {\n        var response = new Response(record, {}, 'find');\n        response.found = record ? 1 : 0;\n        response = self.respond(response, opts);\n\n        // afterFind lifecycle hook\n        op = opts.op = 'afterFind';\n        return jsData.utils.resolve(self[op](mapper, id, opts, response)).then(function (_response) {\n          // Allow for re-assignment from lifecycle hook\n          return jsData.utils.isUndefined(_response) ? response : _response;\n        });\n      });\n    },\n\n\n    /**\n     * Retrieve the records that match the selection query.\n     *\n     * @name Adapter#findAll\n     * @method\n     * @param {Object} mapper The mapper.\n     * @param {Object} [query] Selection query.\n     * @param {Object} [query.where] Filtering criteria.\n     * @param {string|Array} [query.orderBy] Sorting criteria.\n     * @param {string|Array} [query.sort] Same as `query.sort`.\n     * @param {number} [query.limit] Limit results.\n     * @param {number} [query.skip] Offset results.\n     * @param {number} [query.offset] Same as `query.skip`.\n     * @param {Object} [opts] Configuration options.\n     * @param {boolean} [opts.raw=false] Whether to return a more detailed\n     * response object.\n     * @param {string[]} [opts.with=[]] Relations to eager load.\n     * @return {Promise}\n     */\n    findAll: function findAll(mapper, query, opts) {\n      var self = this;\n      opts || (opts = {});\n      opts.with || (opts.with = []);\n\n      var records = [];\n      var op = void 0;\n      var activeWith = opts._activeWith;\n\n      if (jsData.utils.isObject(activeWith)) {\n        var activeQuery = activeWith.query || {};\n        if (activeWith.replace) {\n          query = activeQuery;\n        } else {\n          jsData.utils.deepFillIn(query, activeQuery);\n        }\n      }\n\n      // beforeFindAll lifecycle hook\n      op = opts.op = 'beforeFindAll';\n      return jsData.utils.resolve(self[op](mapper, query, opts)).then(function () {\n        op = opts.op = 'findAll';\n        self.dbg(op, mapper, query, opts);\n        return jsData.utils.resolve(self._findAll(mapper, query, opts));\n      }).then(function (results) {\n        var _results7 = babelHelpers.slicedToArray(results, 1);\n\n        var _records = _results7[0];\n\n        _records || (_records = []);\n        records = _records;\n        var tasks = [];\n        jsData.utils.forEachRelation(mapper, opts, function (def, __opts) {\n          var task = void 0;\n          if (def.foreignKey && (def.type === 'hasOne' || def.type === 'hasMany')) {\n            if (def.type === 'hasMany') {\n              task = self.loadHasMany(mapper, def, records, __opts);\n            } else {\n              task = self.loadHasOne(mapper, def, records, __opts);\n            }\n          } else if (def.type === 'hasMany' && def.localKeys) {\n            task = self.loadHasManyLocalKeys(mapper, def, records, __opts);\n          } else if (def.type === 'hasMany' && def.foreignKeys) {\n            task = self.loadHasManyForeignKeys(mapper, def, records, __opts);\n          } else if (def.type === 'belongsTo') {\n            task = self.loadBelongsTo(mapper, def, records, __opts);\n          }\n          if (task) {\n            tasks.push(task);\n          }\n        });\n        return Promise.all(tasks);\n      }).then(function () {\n        var response = new Response(records, {}, 'findAll');\n        response.found = records.length;\n        response = self.respond(response, opts);\n\n        // afterFindAll lifecycle hook\n        op = opts.op = 'afterFindAll';\n        return jsData.utils.resolve(self[op](mapper, query, opts, response)).then(function (_response) {\n          // Allow for re-assignment from lifecycle hook\n          return jsData.utils.isUndefined(_response) ? response : _response;\n        });\n      });\n    },\n\n\n    /**\n     * Resolve the value of the specified option based on the given options and\n     * this adapter's settings. Override with care.\n     *\n     * @name Adapter#getOpt\n     * @method\n     * @param {string} opt The name of the option.\n     * @param {Object} [opts] Configuration options.\n     * @return {*} The value of the specified option.\n     */\n    getOpt: function getOpt(opt, opts) {\n      opts || (opts = {});\n      return jsData.utils.isUndefined(opts[opt]) ? jsData.utils.plainCopy(this[opt]) : jsData.utils.plainCopy(opts[opt]);\n    },\n\n\n    /**\n     * Logging utility method. Override this method if you want to send log\n     * messages to something other than the console.\n     *\n     * @name Adapter#log\n     * @method\n     * @param {string} level Log level.\n     * @param {...*} values Values to log.\n     */\n    log: function log(level) {\n      for (var _len4 = arguments.length, args = Array(_len4 > 1 ? _len4 - 1 : 0), _key4 = 1; _key4 < _len4; _key4++) {\n        args[_key4 - 1] = arguments[_key4];\n      }\n\n      if (level && !args.length) {\n        args.push(level);\n        level = 'debug';\n      }\n      if (level === 'debug' && !this.debug) {\n        return;\n      }\n      var prefix = level.toUpperCase() + ': (Adapter)';\n      if (console[level]) {\n        var _console;\n\n        (_console = console)[level].apply(_console, [prefix].concat(args));\n      } else {\n        var _console2;\n\n        (_console2 = console).log.apply(_console2, [prefix].concat(args));\n      }\n    },\n\n\n    /**\n     * Retrieve sum of the specified field of the records that match the selection\n     * query. Called by `Mapper#sum`.\n     *\n     * @name Adapter#sum\n     * @method\n     * @param {Object} mapper The mapper.\n     * @param {string} field By to sum.\n     * @param {Object} [query] Selection query.\n     * @param {Object} [query.where] Filtering criteria.\n     * @param {string|Array} [query.orderBy] Sorting criteria.\n     * @param {string|Array} [query.sort] Same as `query.sort`.\n     * @param {number} [query.limit] Limit results.\n     * @param {number} [query.skip] Offset results.\n     * @param {number} [query.offset] Same as `query.skip`.\n     * @param {Object} [opts] Configuration options.\n     * @param {boolean} [opts.raw=false] Whether to return a more detailed\n     * response object.\n     * @return {Promise}\n     */\n    sum: function sum(mapper, field, query, opts) {\n      var self = this;\n      var op = void 0;\n      if (!jsData.utils.isString(field)) {\n        throw new Error('field must be a string!');\n      }\n      query || (query = {});\n      opts || (opts = {});\n\n      // beforeSum lifecycle hook\n      op = opts.op = 'beforeSum';\n      return jsData.utils.resolve(self[op](mapper, field, query, opts)).then(function () {\n        // Allow for re-assignment from lifecycle hook\n        op = opts.op = 'sum';\n        self.dbg(op, mapper, field, query, opts);\n        return jsData.utils.resolve(self._sum(mapper, field, query, opts));\n      }).then(function (results) {\n        var _results8 = babelHelpers.slicedToArray(results, 2);\n\n        var data = _results8[0];\n        var result = _results8[1];\n\n        result || (result = {});\n        var response = new Response(data, result, op);\n        response = self.respond(response, opts);\n\n        // afterSum lifecycle hook\n        op = opts.op = 'afterSum';\n        return jsData.utils.resolve(self[op](mapper, field, query, opts, response)).then(function (_response) {\n          // Allow for re-assignment from lifecycle hook\n          return jsData.utils.isUndefined(_response) ? response : _response;\n        });\n      });\n    },\n\n\n    /**\n     * @name Adapter#respond\n     * @method\n     * @param {Object} response Response object.\n     * @param {Object} opts Configuration options.\n     * return {Object} If `opts.raw == true` then return `response`, else return\n     * `response.data`.\n     */\n    respond: function respond(response, opts) {\n      return this.getOpt('raw', opts) ? response : response.data;\n    },\n\n\n    /**\n     * Apply the given update to the record with the specified primary key. Called\n     * by `Mapper#update`.\n     *\n     * @name Adapter#update\n     * @method\n     * @param {Object} mapper The mapper.\n     * @param {(string|number)} id The primary key of the record to be updated.\n     * @param {Object} props The update to apply to the record.\n     * @param {Object} [opts] Configuration options.\n     * @param {boolean} [opts.raw=false] Whether to return a more detailed\n     * response object.\n     * @return {Promise}\n     */\n    update: function update(mapper, id, props, opts) {\n      var self = this;\n      props || (props = {});\n      opts || (opts = {});\n      var op = void 0;\n\n      // beforeUpdate lifecycle hook\n      op = opts.op = 'beforeUpdate';\n      return jsData.utils.resolve(self[op](mapper, id, props, opts)).then(function (_props) {\n        // Allow for re-assignment from lifecycle hook\n        props = jsData.utils.isUndefined(_props) ? props : _props;\n        op = opts.op = 'update';\n        self.dbg(op, mapper, id, props, opts);\n        return jsData.utils.resolve(self._update(mapper, id, props, opts));\n      }).then(function (results) {\n        var _results9 = babelHelpers.slicedToArray(results, 2);\n\n        var data = _results9[0];\n        var result = _results9[1];\n\n        result || (result = {});\n        var response = new Response(data, result, 'update');\n        response.updated = data ? 1 : 0;\n        response = self.respond(response, opts);\n\n        // afterUpdate lifecycle hook\n        op = opts.op = 'afterUpdate';\n        return jsData.utils.resolve(self[op](mapper, id, props, opts, response)).then(function (_response) {\n          // Allow for re-assignment from lifecycle hook\n          return jsData.utils.isUndefined(_response) ? response : _response;\n        });\n      });\n    },\n\n\n    /**\n     * Apply the given update to all records that match the selection query.\n     * Called by `Mapper#updateAll`.\n     *\n     * @name Adapter#updateAll\n     * @method\n     * @param {Object} mapper The mapper.\n     * @param {Object} props The update to apply to the selected records.\n     * @param {Object} [query] Selection query.\n     * @param {Object} [query.where] Filtering criteria.\n     * @param {string|Array} [query.orderBy] Sorting criteria.\n     * @param {string|Array} [query.sort] Same as `query.sort`.\n     * @param {number} [query.limit] Limit results.\n     * @param {number} [query.skip] Offset results.\n     * @param {number} [query.offset] Same as `query.skip`.\n     * @param {Object} [opts] Configuration options.\n     * @param {boolean} [opts.raw=false] Whether to return a more detailed\n     * response object.\n     * @return {Promise}\n     */\n    updateAll: function updateAll(mapper, props, query, opts) {\n      var self = this;\n      props || (props = {});\n      query || (query = {});\n      opts || (opts = {});\n      var op = void 0;\n\n      // beforeUpdateAll lifecycle hook\n      op = opts.op = 'beforeUpdateAll';\n      return jsData.utils.resolve(self[op](mapper, props, query, opts)).then(function (_props) {\n        // Allow for re-assignment from lifecycle hook\n        props = jsData.utils.isUndefined(_props) ? props : _props;\n        op = opts.op = 'updateAll';\n        self.dbg(op, mapper, props, query, opts);\n        return jsData.utils.resolve(self._updateAll(mapper, props, query, opts));\n      }).then(function (results) {\n        var _results10 = babelHelpers.slicedToArray(results, 2);\n\n        var data = _results10[0];\n        var result = _results10[1];\n\n        data || (data = []);\n        result || (result = {});\n        var response = new Response(data, result, 'updateAll');\n        response.updated = data.length;\n        response = self.respond(response, opts);\n\n        // afterUpdateAll lifecycle hook\n        op = opts.op = 'afterUpdateAll';\n        return jsData.utils.resolve(self[op](mapper, props, query, opts, response)).then(function (_response) {\n          // Allow for re-assignment from lifecycle hook\n          return jsData.utils.isUndefined(_response) ? response : _response;\n        });\n      });\n    },\n\n\n    /**\n     * Update the given records in a single batch. Called by `Mapper#updateMany`.\n     *\n     * @name Adapter#updateMany\n     * @method\n     * @param {Object} mapper The mapper.\n     * @param {Object[]} records The records to update.\n     * @param {Object} [opts] Configuration options.\n     * @param {boolean} [opts.raw=false] Whether to return a more detailed\n     * response object.\n     * @return {Promise}\n     */\n    updateMany: function updateMany(mapper, records, opts) {\n      var self = this;\n      records || (records = []);\n      opts || (opts = {});\n      var op = void 0;\n      var idAttribute = mapper.idAttribute;\n\n      records = records.filter(function (record) {\n        return jsData.utils.get(record, idAttribute);\n      });\n\n      // beforeUpdateMany lifecycle hook\n      op = opts.op = 'beforeUpdateMany';\n      return jsData.utils.resolve(self[op](mapper, records, opts)).then(function (_records) {\n        // Allow for re-assignment from lifecycle hook\n        records = jsData.utils.isUndefined(_records) ? records : _records;\n        records = records.map(function (record) {\n          return withoutRelations(mapper, record);\n        });\n        op = opts.op = 'updateMany';\n        self.dbg(op, mapper, records, opts);\n        return jsData.utils.resolve(self._updateMany(mapper, records, opts));\n      }).then(function (results) {\n        var _results11 = babelHelpers.slicedToArray(results, 2);\n\n        var data = _results11[0];\n        var result = _results11[1];\n\n        data || (data = []);\n        result || (result = {});\n        var response = new Response(data, result, 'updateMany');\n        response.updated = data.length;\n        response = self.respond(response, opts);\n\n        // afterUpdateMany lifecycle hook\n        op = opts.op = 'afterUpdateMany';\n        return jsData.utils.resolve(self[op](mapper, records, opts, response)).then(function (_response) {\n          // Allow for re-assignment from lifecycle hook\n          return jsData.utils.isUndefined(_response) ? response : _response;\n        });\n      });\n    }\n  });\n\n  module.exports = Adapter;\n\n}));\n//# sourceMappingURL=js-data-adapter.js.map\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/js-data-adapter/dist/js-data-adapter.js\n ** module id = 2\n ** module chunks = 0\n **/","var randHex = require('./randHex');\nvar choice = require('./choice');\n\n  /**\n   * Returns pseudo-random guid (UUID v4)\n   * IMPORTANT: it's not totally \"safe\" since randHex/choice uses Math.random\n   * by default and sequences can be predicted in some cases. See the\n   * \"random/random\" documentation for more info about it and how to replace\n   * the default PRNG.\n   */\n  function guid() {\n    return (\n        randHex(8)+'-'+\n        randHex(4)+'-'+\n        // v4 UUID always contain \"4\" at this position to specify it was\n        // randomly generated\n        '4' + randHex(3) +'-'+\n        // v4 UUID always contain chars [a,b,8,9] at this position\n        choice(8, 9, 'a', 'b') + randHex(3)+'-'+\n        randHex(12)\n    );\n  }\n  module.exports = guid;\n\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/mout/random/guid.js\n ** module id = 3\n ** module chunks = 0\n **/","var choice = require('./choice');\n\n    var _chars = '0123456789abcdef'.split('');\n\n    /**\n     * Returns a random hexadecimal string\n     */\n    function randHex(size){\n        size = size && size > 0? size : 6;\n        var str = '';\n        while (size--) {\n            str += choice(_chars);\n        }\n        return str;\n    }\n\n    module.exports = randHex;\n\n\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/mout/random/randHex.js\n ** module id = 4\n ** module chunks = 0\n **/","var randInt = require('./randInt');\nvar isArray = require('../lang/isArray');\n\n    /**\n     * Returns a random element from the supplied arguments\n     * or from the array (if single argument is an array).\n     */\n    function choice(items) {\n        var target = (arguments.length === 1 && isArray(items))? items : arguments;\n        return target[ randInt(0, target.length - 1) ];\n    }\n\n    module.exports = choice;\n\n\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/mout/random/choice.js\n ** module id = 5\n ** module chunks = 0\n **/","var MIN_INT = require('../number/MIN_INT');\nvar MAX_INT = require('../number/MAX_INT');\nvar rand = require('./rand');\n\n    /**\n     * Gets random integer inside range or snap to min/max values.\n     */\n    function randInt(min, max){\n        min = min == null? MIN_INT : ~~min;\n        max = max == null? MAX_INT : ~~max;\n        // can't be max + 0.5 otherwise it will round up if `rand`\n        // returns `max` causing it to overflow range.\n        // -0.5 and + 0.49 are required to avoid bias caused by rounding\n        return Math.round( rand(min - 0.5, max + 0.499999999999) );\n    }\n\n    module.exports = randInt;\n\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/mout/random/randInt.js\n ** module id = 6\n ** module chunks = 0\n **/","/**\n * @constant Minimum 32-bit signed integer value (-2^31).\n */\n\n    module.exports = -2147483648;\n\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/mout/number/MIN_INT.js\n ** module id = 7\n ** module chunks = 0\n **/","/**\n * @constant Maximum 32-bit signed integer value. (2^31 - 1)\n */\n\n    module.exports = 2147483647;\n\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/mout/number/MAX_INT.js\n ** module id = 8\n ** module chunks = 0\n **/","var random = require('./random');\nvar MIN_INT = require('../number/MIN_INT');\nvar MAX_INT = require('../number/MAX_INT');\n\n    /**\n     * Returns random number inside range\n     */\n    function rand(min, max){\n        min = min == null? MIN_INT : min;\n        max = max == null? MAX_INT : max;\n        return min + (max - min) * random();\n    }\n\n    module.exports = rand;\n\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/mout/random/rand.js\n ** module id = 9\n ** module chunks = 0\n **/","\n\n    /**\n     * Just a wrapper to Math.random. No methods inside mout/random should call\n     * Math.random() directly so we can inject the pseudo-random number\n     * generator if needed (ie. in case we need a seeded random or a better\n     * algorithm than the native one)\n     */\n    function random(){\n        return random.get();\n    }\n\n    // we expose the method so it can be swapped if needed\n    random.get = Math.random;\n\n    module.exports = random;\n\n\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/mout/random/random.js\n ** module id = 10\n ** module chunks = 0\n **/","var isKind = require('./isKind');\n    /**\n     */\n    var isArray = Array.isArray || function (val) {\n        return isKind(val, 'Array');\n    };\n    module.exports = isArray;\n\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/mout/lang/isArray.js\n ** module id = 11\n ** module chunks = 0\n **/","var kindOf = require('./kindOf');\n    /**\n     * Check if value is from a specific \"kind\".\n     */\n    function isKind(val, kind){\n        return kindOf(val) === kind;\n    }\n    module.exports = isKind;\n\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/mout/lang/isKind.js\n ** module id = 12\n ** module chunks = 0\n **/","\n\n    var _rKind = /^\\[object (.*)\\]$/,\n        _toString = Object.prototype.toString,\n        UNDEF;\n\n    /**\n     * Gets the \"kind\" of value. (e.g. \"String\", \"Number\", etc)\n     */\n    function kindOf(val) {\n        if (val === null) {\n            return 'Null';\n        } else if (val === UNDEF) {\n            return 'Undefined';\n        } else {\n            return _rKind.exec( _toString.call(val) )[1];\n        }\n    }\n    module.exports = kindOf;\n\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/mout/lang/kindOf.js\n ** module id = 13\n ** module chunks = 0\n **/"],"sourceRoot":""}